<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title>Teste de uso de editor</title>
        <link href="themes/editto-cyan-theme.css" rel="stylesheet" type="text/css"/>
        <link href="bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
    </head>
    <body>
        <textarea id="textExample">Este é o conteúdo</textarea>
        <div id="teste"></div>
    </body>
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="editto.js"></script>

    <script>
        $(document).ready(function(){
            var edicao = new editor("textExample");
            var documento = edicao.obterDocumento(),
                barraBotoes = edicao.obterBarraBotoes();

            var buttonGroupAdicionado = new grupoBotoes(barraBotoes);
            console.log(barraBotoes);

            var btnNegrito = new botao(buttonGroupAdicionado, "bold", "Negrito");
            btnNegrito.getButton().onclick = function() {
                barraBotoes.adicionarBotaoVerificacao(btnNegrito, 'bold');
                documento.formatar('bold');
            };

            var btnItalico = new botao("italic", "Itálico");
            barraBotoes.adicionarBotaoVerificacao(btnItalico, 'italic');
            btnItalico.getButton().onclick = function() {
                documento.formatar('italic');
            };


            buttonGroupAdicionado.adicionarBotao(btnNegrito);
            buttonGroupAdicionado.adicionarBotao(btnItalico);

            barraBotoes.adicionarGrupo(buttonGroupAdicionado.getGroup());

            window.edicao = edicao;
            /*
                Definições de personalizações para este editor
            */
           /*
            var personalizacao = new personalizacaoEditor(edicao.obterDocumento());
            personalizacao.definirIcone('smile-o');
            personalizacao.ac.btn.getButton().onclick = function() {
                personalizacao.ac.inserirTexto(":)");
            };

            var carregamento = new personalizacaoEditor(edicao.obterDocumento());
            carregamento.definirIcone('recycle');
            carregamento.ac.btn.getButton().onclick = function() {
                carregamento.ac.carregar('modelos/testeExterno.html');
            };

            var tpl = new personalizacaoEditor(edicao.obterDocumento());
            tpl.definirIcone('random');
            tpl.ac.btn.getButton().onclick = function() {
                var opcoes = [
                {
                    variavel: 'titulo',
                    valor: prompt("Insira um título")
                }
            ];
                carregamento.ac.carregar('modelos/testeTemplate.html', opcoes);
            };

            var img = new personalizacaoEditor(edicao.obterDocumento());
            img.definirIcone('picture-o');
            img.ac.btn.getButton().onclick = function() {
                var url = prompt("Insira a url da imagem");
                if (url) {
                    var opcoes = [
                        {
                            variavel: 'imagem.src',
                            valor: url
                        }
                    ];
                    img.ac.carregar('modelos/imageInsert.html', opcoes);
                }
            };

            var stgIns = new personalizacaoEditor();
            stgIns.definirIcone("comment");
            stgIns.ac.btn.getButton().onclick = function() {
                var opcoes = [
                    {
                        variavel: 'nome',
                        valor: prompt("Insira o seu nome")
                    }
                ];
                img.ac.inserirComponente("<p>Olá, {{ nome }}!!</p>", opcoes);
            };


            edicao.addPersonalizacao(personalizacao);
            edicao.addPersonalizacao(carregamento);
            edicao.addPersonalizacao(tpl);
            edicao.addPersonalizacao(img);
            edicao.addPersonalizacao(stgIns);
            */
        });

    </script>
</html>
