"use strict";var _createClass=function(){function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var eDittoButtonBar=function(t){function o(){_classCallCheck(this,o);var t=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));t.buttons=t.querySelectorAll("button");for(var e=0;e<t.buttons.length;e++)t.setButtonAction(t.buttons[e]);return t.startButtonsCheck(),t.addEventListener("mousedown",function(t){t.preventDefault()}),t}return _inherits(o,HTMLElement),_createClass(o,null,[{key:"observedAttributes",get:function(){return["editto"]}}]),_createClass(o,[{key:"setButtonAction",value:function(t){var e=this,o=this,n=t.dataset.edittoFormat,r=t.dataset.edittoFormatValue||null;n&&t.addEventListener("click",function(){e.blur(),o.eDitto.format(n,r)})}},{key:"attributeChangedCallback",value:function(t,e,o){if("editto"==t){this.eDitto=document.getElementById(o);var n=this;this.eDitto.addEventListener("focus",function(){n.classList.remove("editto-button-bar--lost-focus"),n.classList.add("editto-button-bar--focus")}),this.eDitto.addEventListener("blur",function(){n.classList.remove("editto-button-bar--focus"),n.classList.add("editto-button-bar--lost-focus"),setTimeout(function(t){return n.classList.remove("editto-button-bar--lost-focus")},1e3)})}}},{key:"startButtonsCheck",value:function(){var t=this;setInterval(function(){t.checkButtonsFormat()},500)}},{key:"checkButtonsFormat",value:function(){for(var t=0;t<this.buttons.length;t++)this.checkButtomFormat(this.buttons[t])}},{key:"checkButtomFormat",value:function(t){var e=t.dataset.edittoFormat;return e&&this.eDitto.checkFormat(e)?(t.classList.add("edito-button__active"),this.eDitto.checkFormat(e)):(t.classList.remove("edito-button__active"),!1)}}]),o}();customElements.define("editto-button-bar",eDittoButtonBar);