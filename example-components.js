"use strict";var _createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var YoutubeVideo=function(e){function n(){_classCallCheck(this,n);var t=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),e=t.attachShadow({mode:"open"});return t._updateView=function(){e.innerHTML=t._template(),e.contenteditable=!0,t._inputUrl=e.querySelector("#fsrc"),t._iframe=e.querySelector("#youtubeiframe"),t._inputUrl&&t._inputUrl.addEventListener("change",function(e){t._updateAttributes()})},t._updateView(),t}return _inherits(n,HTMLElement),_createClass(n,null,[{key:"observedAttributes",get:function(){return["src"]}}]),_createClass(n,[{key:"_template",value:function(){return"\n            <style>\n                #fsrc {\n                    width: 100%;\n                    border: none;\n                }\n            </style>\n            "+(this.src?"":'\n                <div>\n                    <input value="'+(this.src||"")+'" type="text" id="fsrc" placeholder="Insira o endereço do seu vídeo"/>\n                </div>\n            ')+"\n            \n            "+(this._embedUrl?'\n                <iframe src="'+this._embedUrl+'" id="youtubeiframe"></iframe>\n            ':"")+"\n            \n        "}},{key:"_updateAttributes",value:function(){this.src=this._inputUrl.value,this._updateView()}},{key:"attributeChangedCallback",value:function(e,t,n){"src"==e&&this._updateView()}},{key:"src",get:function(){return this.getAttribute("src")},set:function(e){e?this.setAttribute("src",e):this.removeAttribute("src")}},{key:"_embedUrl",get:function(){try{return"https://www.youtube.com/embed/"+this.src.match(/(\?v=|\&v=|\/\d\/|\/embed\/|\/v\/|\.be\/)([a-zA-Z0-9\-\_]+)/)[2]}catch(e){return null}}}]),n}();window.customElements&&customElements.define("youtube-video",YoutubeVideo);